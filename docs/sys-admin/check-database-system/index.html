<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-sys-admin/check-database-system" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.1.1">
<title data-rh="true">Check Database System | Apache Cloudberry (Incubating)</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://cloudberry.apache.org/docs/sys-admin/check-database-system"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" property="og:locale:alternate" content="zh"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Check Database System | Apache Cloudberry (Incubating)"><meta data-rh="true" name="description" content="You can check a Cloudberry Database system using a variety of tools included with the system or available as plugins."><meta data-rh="true" property="og:description" content="You can check a Cloudberry Database system using a variety of tools included with the system or available as plugins."><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://cloudberry.apache.org/docs/sys-admin/check-database-system"><link data-rh="true" rel="alternate" href="https://cloudberry.apache.org/docs/sys-admin/check-database-system" hreflang="en"><link data-rh="true" rel="alternate" href="https://cloudberry.apache.org/zh/docs/sys-admin/check-database-system" hreflang="zh"><link data-rh="true" rel="alternate" href="https://cloudberry.apache.org/docs/sys-admin/check-database-system" hreflang="x-default"><link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="Apache Cloudberry (Incubating) is one advanced and mature open-source MPP (Massively Parallel Processing) databases available. RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="Apache Cloudberry (Incubating) is one advanced and mature open-source MPP (Massively Parallel Processing) databases available. Atom Feed">
<link rel="alternate" type="application/json" href="/blog/feed.json" title="Apache Cloudberry (Incubating) is one advanced and mature open-source MPP (Massively Parallel Processing) databases available. JSON Feed">




<link rel="preconnect" href="https://analytics.apache.org/">
<script>var _paq=window._paq=window._paq||[];_paq.push(["setRequestMethod","POST"]),_paq.push(["trackPageView"]),_paq.push(["enableLinkTracking"]),_paq.push(["enableHeartBeatTimer"]),function(){var e="https://analytics.apache.org/";_paq.push(["setRequestMethod","POST"]),_paq.push(["setTrackerUrl",e+"matomo.php"]),_paq.push(["setSiteId","66"]);var a=document,t=a.createElement("script"),p=a.getElementsByTagName("script")[0];t.type="text/javascript",t.async=!0,t.src=e+"matomo.js",p.parentNode.insertBefore(t,p)}()</script><link rel="stylesheet" href="/assets/css/styles.61dec7e1.css">
<script src="/assets/js/runtime~main.0799dbd8.js" defer="defer"></script>
<script src="/assets/js/main.e1aad5e8.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return localStorage.getItem("theme")}catch(t){}}();null!==e?t(e):window.matchMedia("(prefers-color-scheme: dark)").matches?t("dark"):window.matchMedia("(prefers-color-scheme: light)").matches?t("light"):t("dark")}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><div class="tipsWrap_WWTe"><div class="tipsContent_sMsy"><div class="text_VINd"><a href="https://github.com/apache/cloudberry" target="_blank" rel="noopener noreferrer"><span>If you like Apache Cloudberry (Incubating), give it a star on GitHub! </span><img src="/img/home/hcard/star.svg" alt=""></a></div><div class="close_vVex"><img src="/img/home/hcard/close.svg" alt=""></div></div></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><div class="nav-left-logo"><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/apache_cloudberry_color_black.svg" alt="Apache Cloudberry (Incubating)" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/img/apache_cloudberry_color_white.svg" alt="Apache Cloudberry (Incubating)" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div></a></div></div><div class="navbar__items navbar__items--right"><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/">Docs</a><a class="navbar__item navbar__link" href="/community">Community</a><a class="navbar__item navbar__link" href="/contribute">Contribute</a><a class="navbar__item navbar__link" href="/blog">Blog</a><a class="navbar__item navbar__link" href="/docs/releases">Download</a><a class="navbar__item navbar__link" href="/support">Support</a><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">Resources</a><ul class="dropdown__menu"><li><a href="https://github.com/apache/cloudberry/discussions/369" target="_blank" rel="noopener noreferrer" class="dropdown__link">Roadmap</a></li><li><a href="https://github.com/apache/cloudberry/discussions" target="_blank" rel="noopener noreferrer" class="dropdown__link">Forum</a></li><li><a class="dropdown__link" href="/bootcamp">Bootcamp</a></li><li><a class="dropdown__link" href="/team">Team</a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">ASF</a><ul class="dropdown__menu"><li><a href="https://www.apache.org/" target="_blank" rel="noopener noreferrer" class="dropdown__link">Foundation</a></li><li><a href="https://www.apache.org/licenses/" target="_blank" rel="noopener noreferrer" class="dropdown__link">License</a></li><li><a href="https://www.apache.org/events/current-event.html" target="_blank" rel="noopener noreferrer" class="dropdown__link">Events</a></li><li><a href="https://privacy.apache.org/policies/privacy-policy-public.html" target="_blank" rel="noopener noreferrer" class="dropdown__link">Privacy</a></li><li><a href="https://www.apache.org/security/" target="_blank" rel="noopener noreferrer" class="dropdown__link">Security</a></li><li><a href="https://www.apache.org/foundation/sponsorship.html" target="_blank" rel="noopener noreferrer" class="dropdown__link">Sponsorship</a></li><li><a href="https://www.apache.org/foundation/thanks.html" target="_blank" rel="noopener noreferrer" class="dropdown__link">Thanks</a></li><li><a href="https://www.apache.org/foundation/policies/conduct" target="_blank" rel="noopener noreferrer" class="dropdown__link">Code of Conduct</a></li></ul></div><div class="toggle_vylO colorModeToggle_x44X check-theme-switch"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently dark mode)" aria-label="Switch between dark and light mode (currently dark mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_dCNk"><div class="navbar__search searchBarContainer_NW3z"><input placeholder="Search" aria-label="Search" class="navbar__search-input"><div class="loadingRing_RJI3 searchBarLoadingRing_YnHq"><div></div><div></div><div></div><div></div></div></div></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_BF9v"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_Rg9N"><aside class="theme-doc-sidebar-container docSidebarContainer_RSuS"><div class="sidebarViewport_pYEE"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/">Introduction</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/cbdb-macos-compile">Deploy and Build</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/data-loading/">Load Data</a><button aria-label="Expand sidebar category &#x27;Load Data&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/create-and-manage-database">Create and Prepare</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/basic-query-syntax">Operate with Data</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/performance/">Optimize Query Performance</a><button aria-label="Expand sidebar category &#x27;Optimize Query Performance&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/security/">Security and Permission</a><button aria-label="Expand sidebar category &#x27;Security and Permission&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" href="/docs/sys-admin/backup-and-restore/">Manage System</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/sys-admin/backup-and-restore/">Backup and Restore</a><button aria-label="Expand sidebar category &#x27;Backup and Restore&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/sys-admin/configure-database-system">Configure Database System</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/sys-admin/check-database-system">Check Database System</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/sys-admin/enable-coordinator-mirroring">Enable Coordinator Mirroring for Cloudberry Database</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/sys-admin/recommended-maintenance-monitoring-tasks">Recommended Monitoring and Maintenance Tasks</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/ecosystem/sql-clients/dbeaver">Ecosystem</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/sql-stmts/">References</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/releases/">Releases</a><button aria-label="Expand sidebar category &#x27;Releases&#x27;" type="button" class="clean-btn menu__caret"></button></div></li></ul></nav></div></div></aside><main class="docMainContainer_hjYf"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_z5aJ"><div class="docItemContainer_c0TR"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Alpn" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_xK9p"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link" id="支付">Manage System</span><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Check Database System</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_bxCs"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><h1>Check Cloudberry Database System</h1>
<p>You can check a Cloudberry Database system using a variety of tools included with the system or available as plugins.</p>
<p>Observing the Cloudberry Database system day-to-day performance helps administrators understand the system behavior, plan workflow, and troubleshoot problems. This document introduces scenarios for diagnosing database performance and activity.</p>
<p>As a Cloudberry Database administrator, you need to check the system for problem events such as a segment going down or running out of disk space on a segment host. The following topics describe how to check the health of a Cloudberry Database system and examine certain state information for a Cloudberry Database system.</p>
<ul>
<li><a href="#check-system-state">Check system state</a></li>
<li><a href="#check-disk-space-usage">Check disk space usage</a></li>
<li><a href="#check-for-data-distribution-skew">Check for data distribution skew</a></li>
</ul>
<ul>
<li><a href="#view-metadata-information-about-database-objects">View metadata information about database objects</a></li>
<li><a href="#view-session-memory-usage-information">View session memory usage information</a></li>
<li><a href="#view-and-log-per-process-memory-usage-information">View and log per-process memory usage information</a></li>
<li><a href="#view-query-workfile-usage-information">View query workfile usage information</a></li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="check-system-state">Check system state<a href="#check-system-state" class="hash-link" aria-label="Direct link to Check system state" title="Direct link to Check system state">​</a></h2>
<p>A Cloudberry Database system is comprised of multiple PostgreSQL instances (the coordinator and segments) spanning multiple machines. To check a Cloudberry Database system, you need to know information about the system as a whole, as well as status information of the individual instances. The <code>gpstate</code> utility provides status information about a Cloudberry Database system.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="view-coordinator-and-segment-status-and-configuration">View coordinator and segment status and configuration<a href="#view-coordinator-and-segment-status-and-configuration" class="hash-link" aria-label="Direct link to View coordinator and segment status and configuration" title="Direct link to View coordinator and segment status and configuration">​</a></h3>
<p>The default <code>gpstate</code> action is to check segment instances and show a brief status of the valid and failed segments. For example, to see a quick status of your Cloudberry Database system:</p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">gpstate</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>To see more detailed information about your Cloudberry Database array configuration, use <code>gpstate</code> with the <code>-s</code> option:</p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">gpstate -s</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="view-your-mirroring-configuration-and-status">View your mirroring configuration and status<a href="#view-your-mirroring-configuration-and-status" class="hash-link" aria-label="Direct link to View your mirroring configuration and status" title="Direct link to View your mirroring configuration and status">​</a></h3>
<p>If you are using mirroring for data redundancy, you might want to see the list of mirror segment instances in the system, their current synchronization status, and the mirror to primary mapping. For example, to see the mirror segments in the system and their status:</p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">gpstate -m</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>To see the primary to mirror segment mappings:</p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">gpstate -c</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>To see the status of the standby coordinator mirror:</p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">gpstate -f</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="check-disk-space-usage">Check disk space usage<a href="#check-disk-space-usage" class="hash-link" aria-label="Direct link to Check disk space usage" title="Direct link to Check disk space usage">​</a></h2>
<p>For database administrators, checking disk space usage is crucial. Keeping coordinator and segment data directories below 70% full is the key. Although a filled disk does not corrupt data, it can stop regular database activity, and eventually force server shutdown.</p>
<p>You can use the <code>gp_disk_free</code> external table in the <code>gp_toolkit</code> administrative schema to check for remaining free space (in kilobytes) on the segment host file systems. For example:</p>
<div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">SELECT</span><span class="token plain"> </span><span class="token operator">*</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">FROM</span><span class="token plain"> gp_toolkit</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">gp_disk_free </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">ORDER</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">BY</span><span class="token plain"> dfsegment</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="check-the-sizing-of-distributed-databases-and-tables">Check the sizing of distributed databases and tables<a href="#check-the-sizing-of-distributed-databases-and-tables" class="hash-link" aria-label="Direct link to Check the sizing of distributed databases and tables" title="Direct link to Check the sizing of distributed databases and tables">​</a></h3>
<p>The <code>gp_toolkit</code> administrative schema contains several views that you can use to determine the disk space usage for a distributed Cloudberry Database database, schema, table, or index.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="view-disk-space-usage-for-a-database">View disk space usage for a database<a href="#view-disk-space-usage-for-a-database" class="hash-link" aria-label="Direct link to View disk space usage for a database" title="Direct link to View disk space usage for a database">​</a></h4>
<p>To see the total size of a database (in bytes), use the <code>gp_size_of_database</code> view in the <code>gp_toolkit</code> administrative schema. For example:</p>
<div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">SELECT</span><span class="token plain"> </span><span class="token operator">*</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">FROM</span><span class="token plain"> gp_toolkit</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">gp_size_of_database </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">ORDER</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">BY</span><span class="token plain"> sodddatname</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="view-disk-space-usage-for-a-table">View disk space usage for a table<a href="#view-disk-space-usage-for-a-table" class="hash-link" aria-label="Direct link to View disk space usage for a table" title="Direct link to View disk space usage for a table">​</a></h4>
<p>The <code>gp_toolkit</code> administrative schema contains several views for checking the size of a table. The table sizing views list the table by object ID (not by name). For example:</p>
<div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">SELECT</span><span class="token plain"> relname </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">AS</span><span class="token plain"> name</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> sotdsize </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">AS</span><span class="token plain"> size</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> sotdtoastsize </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">AS</span><span class="token plain"> toast</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> sotdadditionalsize </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">AS</span><span class="token plain"> other </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">FROM</span><span class="token plain"> gp_toolkit</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">gp_size_of_table_disk </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">as</span><span class="token plain"> sotd</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> pg_class </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">WHERE</span><span class="token plain"> sotd</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">sotdoid</span><span class="token operator">=</span><span class="token plain">pg_class</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">oid </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">ORDER</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">BY</span><span class="token plain"> relname</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>To check the size of a table by name, you need to look up the relation name (<code>relname</code>) in the <code>pg_class</code> table. For example, to see the size of the table <code>test_table</code>:</p>
<div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">SELECT</span><span class="token plain"> relname </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">AS</span><span class="token plain"> name</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> sotdsize </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">AS</span><span class="token plain"> size</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> sotdtoastsize </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">AS</span><span class="token plain"> toast</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> sotdadditionalsize </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">AS</span><span class="token plain"> other </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">FROM</span><span class="token plain"> gp_toolkit</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">gp_size_of_table_disk </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">as</span><span class="token plain"> sotd</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> pg_class </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">WHERE</span><span class="token plain"> sotd</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">sotdoid</span><span class="token operator">=</span><span class="token plain">pg_class</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">oid </span><span class="token operator">AND</span><span class="token plain"> pg_class</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">relname </span><span class="token operator">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;test_table&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">ORDER</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">BY</span><span class="token plain"> relname</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="view-disk-space-usage-for-indexes">View disk space usage for indexes<a href="#view-disk-space-usage-for-indexes" class="hash-link" aria-label="Direct link to View disk space usage for indexes" title="Direct link to View disk space usage for indexes">​</a></h4>
<p>The <code>gp_toolkit</code> administrative schema contains a number of views for checking index sizes. To see the total size of all index(es) on a table, use the <code>gp_size_of_all_table_indexes</code> view. To see the size of a particular index, use the <code>gp_size_of_index</code> view. The index sizing views list tables and indexes by object ID (not by name). For example, to see the size of all indexes on a table:</p>
<div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">SELECT</span><span class="token plain"> soisize</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> relname </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">as</span><span class="token plain"> indexname</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">FROM</span><span class="token plain"> pg_class</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> gp_toolkit</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">gp_size_of_index</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">WHERE</span><span class="token plain"> pg_class</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">oid</span><span class="token operator">=</span><span class="token plain">gp_size_of_index</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">soioid </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token operator">AND</span><span class="token plain"> pg_class</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">relkind</span><span class="token operator">=</span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;i&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>To check the size of an index by name, you need to look up the relation name (<code>relname</code>) in the <code>pg_class</code> table. For example, to check the size of the index <code>test_index</code>:</p>
<div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">SELECT</span><span class="token plain"> pg_class</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">relname </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">AS</span><span class="token plain"> indexname</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> gp_toolkit</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">gp_size_of_index</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">soioid</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> gp_toolkit</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">gp_size_of_index</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">soisize</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">FROM</span><span class="token plain"> pg_class</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> gp_toolkit</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">gp_size_of_index</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">WHERE</span><span class="token plain"> pg_class</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">oid </span><span class="token operator">=</span><span class="token plain"> gp_toolkit</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">gp_size_of_index</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">soioid</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token operator">AND</span><span class="token plain"> pg_class</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">relkind </span><span class="token operator">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;i&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token operator">AND</span><span class="token plain"> pg_class</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">relname </span><span class="token operator">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;test_index&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="check-for-data-distribution-skew">Check for data distribution skew<a href="#check-for-data-distribution-skew" class="hash-link" aria-label="Direct link to Check for data distribution skew" title="Direct link to Check for data distribution skew">​</a></h2>
<p>All tables in Cloudberry Database are distributed, meaning their data is divided across all of the segments in the system. Unevenly distributed data might diminish query processing performance. A table&#x27;s distribution policy, set at table creation time, determines how the table&#x27;s rows are distributed. For information about choosing the table distribution policy, see the following topics:</p>
<ul>
<li><a href="#view-a-tables-distribution-key">View a table&#x27;s distribution key</a></li>
<li><a href="#view-data-distribution">View data distribution</a></li>
<li><a href="#check-for-query-processing-skew">Check for query processing skew</a></li>
</ul>
<p>The <code>gp_toolkit</code> administrative schema also contains a number of views for checking data distribution skew on a table.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="view-a-tables-distribution-key">View a table&#x27;s distribution key<a href="#view-a-tables-distribution-key" class="hash-link" aria-label="Direct link to View a table&#x27;s distribution key" title="Direct link to View a table&#x27;s distribution key">​</a></h3>
<p>To see the columns used as the data distribution key for a table, you can use the <code>\d+</code> meta-command in <code>psql</code> to examine the definition of a table. For example:</p>
<div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token operator">=</span><span class="token comment" style="color:rgb(98, 114, 164)"># \d+ sales</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">Table</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;retail.sales&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">Column</span><span class="token plain">      </span><span class="token operator">|</span><span class="token plain">     </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">Type</span><span class="token plain">     </span><span class="token operator">|</span><span class="token plain"> Modifiers </span><span class="token operator">|</span><span class="token plain"> Description</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)">-------------+--------------+-----------+-------------</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> sale_id     </span><span class="token operator">|</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">integer</span><span class="token plain">      </span><span class="token operator">|</span><span class="token plain">           </span><span class="token operator">|</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> amt         </span><span class="token operator">|</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">float</span><span class="token plain">        </span><span class="token operator">|</span><span class="token plain">           </span><span class="token operator">|</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">date</span><span class="token plain">        </span><span class="token operator">|</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">date</span><span class="token plain">         </span><span class="token operator">|</span><span class="token plain">           </span><span class="token operator">|</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Has OIDs: </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">no</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">Distributed</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">by</span><span class="token plain">: </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">sale_id</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>When you create a replicated table, Cloudberry Database stores all rows in the table on every segment. Replicated tables have no distribution key. Where the <code>\d+</code> meta-command reports the distribution key for a normally distributed table, it shows <code>Distributed Replicated</code> for a replicated table.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="view-data-distribution">View data distribution<a href="#view-data-distribution" class="hash-link" aria-label="Direct link to View data distribution" title="Direct link to View data distribution">​</a></h3>
<p>To see the data distribution of a table&#x27;s rows (the number of rows on each segment), you can run a query such as:</p>
<div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">SELECT</span><span class="token plain"> gp_segment_id</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">count</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token operator">*</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">FROM</span><span class="token plain"> </span><span class="token operator">&lt;</span><span class="token plain">table_name</span><span class="token operator">&gt;</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">GROUP</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">BY</span><span class="token plain"> gp_segment_id</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>A table is considered to have a balanced distribution if all segments have roughly the same number of rows.</p>
<div class="theme-admonition theme-admonition-tip admonition_xJq3 alert alert--success"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</div><div class="admonitionContent_BuS1"><p>If you run this query on a replicated table, it fails because Cloudberry Database does not permit user queries to reference the system column <code>gp_segment_id</code> (or the system columns <code>ctid</code>, <code>cmin</code>, <code>cmax</code>, <code>xmin</code>, and <code>xmax</code>) in replicated tables. Because every segment has all of the tables&#x27; rows, replicated tables are evenly distributed by definition.</p></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="check-for-query-processing-skew">Check for query processing skew<a href="#check-for-query-processing-skew" class="hash-link" aria-label="Direct link to Check for query processing skew" title="Direct link to Check for query processing skew">​</a></h3>
<p>When a query is being processed, all segments should have equal workloads to ensure the best possible performance. If you identify a poorly-performing query, you might need to investigate further using the <code>EXPLAIN</code> command.</p>
<p>Query processing workload can be skewed if the table&#x27;s data distribution policy and the query predicates are not well matched. To check for processing skew, you can run a query such as:</p>
<div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token operator">=</span><span class="token comment" style="color:rgb(98, 114, 164)"># SELECT gp_segment_id, count(*) FROM &lt;table_name&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">   </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">WHERE</span><span class="token plain"> </span><span class="token operator">&lt;</span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">column</span><span class="token operator">&gt;=</span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;&lt;value&gt;&#x27;</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">GROUP</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">BY</span><span class="token plain"> gp_segment_id</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>This will show the number of rows returned by segment for the given <code>WHERE</code> predicate.</p>
<p>As noted in <a href="#view-data-distribution">Viewing Data Distribution</a>, this query will fail if you run it on a replicated table because you cannot reference the <code>gp_segment_id</code> system column in a query on a replicated table.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="avoid-an-extreme-skew-warning">Avoid an extreme skew warning<a href="#avoid-an-extreme-skew-warning" class="hash-link" aria-label="Direct link to Avoid an extreme skew warning" title="Direct link to Avoid an extreme skew warning">​</a></h4>
<p>You might receive the following warning message while running a query that performs a hash join operation:</p>
<p><code>Extreme skew in the innerside of Hashjoin</code></p>
<p>This occurs when the input to a hash join operator is skewed. It does not prevent the query from completing successfully. You can follow these steps to avoid skew in the plan:</p>
<ol>
<li>
<p>Ensure that all fact tables are analyzed.</p>
</li>
<li>
<p>Verify that any populated temporary table used by the query is analyzed.</p>
</li>
<li>
<p>View the <code>EXPLAIN ANALYZE</code> plan for the query and look for the following:</p>
<ul>
<li>If there are scans with multi-column filters that are producing more rows than estimated, then set the <code>gp_selectivity_damping_factor</code> server configuration parameter to <code>2</code> or higher and retest the query.</li>
<li>If the skew occurs while joining a single fact table that is relatively small (less than 5000 rows), set the <code>gp_segments_for_planner</code> server configuration parameter to <code>1</code> and retest the query.</li>
</ul>
</li>
<li>
<p>Check whether the filters applied in the query match distribution keys of the base tables. If the filters and distribution keys are the same, consider redistributing some of the base tables with different distribution keys.</p>
</li>
<li>
<p>Check the cardinality of the join keys. If they have low cardinality, try to rewrite the query with different joining columns or additional filters on the tables to reduce the number of rows. These changes could change the query semantics.</p>
</li>
</ol>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="view-metadata-information-about-database-objects">View metadata information about database objects<a href="#view-metadata-information-about-database-objects" class="hash-link" aria-label="Direct link to View metadata information about database objects" title="Direct link to View metadata information about database objects">​</a></h2>
<p>Cloudberry Database tracks various metadata information in its system catalogs about the objects stored in a database, such as tables, views, indexes and so on, as well as global objects such as roles and tablespaces.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="view-the-last-operation-performed">View the last operation performed<a href="#view-the-last-operation-performed" class="hash-link" aria-label="Direct link to View the last operation performed" title="Direct link to View the last operation performed">​</a></h3>
<p>You can use the system views <code>pg_stat_operations</code> and <code>pg_stat_partition_operations</code> to look up actions performed on an object, such as a table. For example, to see the actions performed on a table, such as when it was created and when it was last vacuumed and analyzed:</p>
<div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token operator">=</span><span class="token operator">&gt;</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">SELECT</span><span class="token plain"> schemaname </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">as</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">schema</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> objname </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">as</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">table</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">   usename </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">as</span><span class="token plain"> role</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> actionname </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">as</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">action</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">   subtype </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">as</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">type</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> statime </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">as</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">time</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">   </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">FROM</span><span class="token plain"> pg_stat_operations </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">   </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">WHERE</span><span class="token plain"> objname</span><span class="token operator">=</span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;test_table&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">schema</span><span class="token plain"> </span><span class="token operator">|</span><span class="token plain">   </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">table</span><span class="token plain">    </span><span class="token operator">|</span><span class="token plain">  role   </span><span class="token operator">|</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">action</span><span class="token plain">  </span><span class="token operator">|</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">type</span><span class="token plain">  </span><span class="token operator">|</span><span class="token plain">             </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">time</span><span class="token plain">              </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)">--------+------------+---------+---------+-------+-------------------------------</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">public</span><span class="token plain"> </span><span class="token operator">|</span><span class="token plain"> test_table </span><span class="token operator">|</span><span class="token plain"> gpadmin </span><span class="token operator">|</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">CREATE</span><span class="token plain">  </span><span class="token operator">|</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">TABLE</span><span class="token plain"> </span><span class="token operator">|</span><span class="token plain"> </span><span class="token number">2024</span><span class="token operator">-</span><span class="token number">01</span><span class="token operator">-</span><span class="token number">16</span><span class="token plain"> </span><span class="token number">15</span><span class="token plain">:</span><span class="token number">26</span><span class="token plain">:</span><span class="token number">36.998256</span><span class="token operator">+</span><span class="token number">08</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">public</span><span class="token plain"> </span><span class="token operator">|</span><span class="token plain"> test_table </span><span class="token operator">|</span><span class="token plain"> gpadmin </span><span class="token operator">|</span><span class="token plain"> VACUUM  </span><span class="token operator">|</span><span class="token plain">       </span><span class="token operator">|</span><span class="token plain"> </span><span class="token number">2024</span><span class="token operator">-</span><span class="token number">01</span><span class="token operator">-</span><span class="token number">16</span><span class="token plain"> </span><span class="token number">15</span><span class="token plain">:</span><span class="token number">26</span><span class="token plain">:</span><span class="token number">42.073407</span><span class="token operator">+</span><span class="token number">08</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">public</span><span class="token plain"> </span><span class="token operator">|</span><span class="token plain"> test_table </span><span class="token operator">|</span><span class="token plain"> gpadmin </span><span class="token operator">|</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">ANALYZE</span><span class="token plain"> </span><span class="token operator">|</span><span class="token plain">       </span><span class="token operator">|</span><span class="token plain"> </span><span class="token number">2024</span><span class="token operator">-</span><span class="token number">01</span><span class="token operator">-</span><span class="token number">16</span><span class="token plain"> </span><span class="token number">15</span><span class="token plain">:</span><span class="token number">26</span><span class="token plain">:</span><span class="token number">45.97546</span><span class="token operator">+</span><span class="token number">08</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token number">3</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">rows</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="view-the-definition-of-an-object">View the definition of an object<a href="#view-the-definition-of-an-object" class="hash-link" aria-label="Direct link to View the definition of an object" title="Direct link to View the definition of an object">​</a></h3>
<p>To see the definition of an object, such as a table or view, you can use the <code>\d+</code> meta-command when working in <code>psql</code>. For example, to see the definition of a table:</p>
<div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">\d</span><span class="token operator">+</span><span class="token plain"> </span><span class="token operator">&lt;</span><span class="token plain">mytable</span><span class="token operator">&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="view-session-memory-usage-information">View session memory usage information<a href="#view-session-memory-usage-information" class="hash-link" aria-label="Direct link to View session memory usage information" title="Direct link to View session memory usage information">​</a></h2>
<p>You can create and use the <code>session_level_memory_consumption</code> view that provides information about the current memory utilization for sessions that are running queries on Cloudberry Database. The view contains session information and information such as the database that the session is connected to, the query that the session is currently running, and memory consumed by the session processes.</p>
<ul>
<li><a href="#create-the-session_level_memory_consumption-view">Create the <code>session_level_memory_consumption</code> view</a></li>
<li><a href="#about-the-session_level_memory_consumption-view">About the <code>session_level_memory_consumption</code> view</a></li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="create-the-session_level_memory_consumption-view">Create the <code>session_level_memory_consumption</code> view<a href="#create-the-session_level_memory_consumption-view" class="hash-link" aria-label="Direct link to create-the-session_level_memory_consumption-view" title="Direct link to create-the-session_level_memory_consumption-view">​</a></h3>
<p>To create the <code>session_state.session_level_memory_consumption</code> view in a Cloudberry Database, run the command <code>CREATE EXTENSION gp_internal_tools;</code> once for each database. For example, to install the view in the database <code>testdb</code>, use this command:</p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">psql -d testdb -c &quot;CREATE EXTENSION gp_internal_tools;&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="about-the-session_level_memory_consumption-view">About the <code>session_level_memory_consumption</code> view<a href="#about-the-session_level_memory_consumption-view" class="hash-link" aria-label="Direct link to about-the-session_level_memory_consumption-view" title="Direct link to about-the-session_level_memory_consumption-view">​</a></h3>
<p>The <code>session_state.session_level_memory_consumption</code> view provides information about memory consumption and idle time for sessions that are running SQL queries.</p>
<p>When resource queue-based resource management is active, the column <code>is_runaway</code> indicates whether Cloudberry Database considers the session a runaway session based on the<code> vmem</code> memory consumption of the session&#x27;s queries. Under the resource queue-based resource management scheme, Cloudberry Database considers the session a runaway when the queries consume an excessive amount of memory. The Cloudberry Database server configuration parameter <code>runaway_detector_activation_percent</code> controls the conditions under which Cloudberry Database considers a session a runaway session.</p>
<p>The <code>is_runaway</code>, <code>runaway_vmem_mb</code>, and <code>runaway_command_cnt</code> columns are not applicable when resource group-based resource management is active.</p>
<table><thead><tr><th>column</th><th>type</th><th>references</th><th>description</th></tr></thead><tbody><tr><td><code>datname</code></td><td>name</td><td> </td><td>Name of the database that the session is connected to.</td></tr><tr><td><code>sess_id</code></td><td>integer</td><td> </td><td>Session ID.</td></tr><tr><td><code>usename</code></td><td>name</td><td> </td><td>Name of the session user.</td></tr><tr><td><code>query</code></td><td>text</td><td> </td><td>Current SQL query that the session is running.</td></tr><tr><td><code>segid</code></td><td>integer</td><td> </td><td>Segment ID.</td></tr><tr><td><code>vmem_mb</code></td><td>integer</td><td> </td><td>Total vmem memory usage for the session in MB.</td></tr><tr><td><code>is_runaway</code></td><td>boolean</td><td> </td><td>Session is marked as runaway on the segment.</td></tr><tr><td><code>qe_count</code></td><td>integer</td><td> </td><td>Number of query processes for the session.</td></tr><tr><td><code>active_qe_count</code></td><td>integer</td><td> </td><td>Number of active query processes for the session.</td></tr><tr><td><code>dirty_qe_count</code></td><td>integer</td><td> </td><td>Number of query processes that have not yet released their memory. The value is <code>-1</code> for sessions that are not running.</td></tr><tr><td><code>runaway_vmem_mb</code></td><td>integer</td><td> </td><td>Amount of vmem memory that the session was consuming when it was marked as a runaway session.</td></tr><tr><td><code>runaway_command_cnt</code></td><td>integer</td><td> </td><td>Command count for the session when it was marked as a runaway session.</td></tr><tr><td><code>idle_start</code></td><td>timestamptz</td><td> </td><td>The last time a query process in this session became idle.</td></tr></tbody></table>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="view-and-log-per-process-memory-usage-information">View and log per-process memory usage information<a href="#view-and-log-per-process-memory-usage-information" class="hash-link" aria-label="Direct link to View and log per-process memory usage information" title="Direct link to View and log per-process memory usage information">​</a></h2>
<p>Cloudberry Database allocates all memory within memory contexts. Memory contexts are a convenient way to manage memory that needs to live for differing amounts of time. Destroying a context releases all of the memory that was allocated in it.</p>
<p>Tracking the amount of memory used by a server process or a long-running query can help detect the source of a potential out-of-memory condition. Cloudberry Database provides a system view and administration functions that you can use for this purpose.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="about-the-pg_backend_memory_contexts-view">About the <code>pg_backend_memory_contexts</code> view<a href="#about-the-pg_backend_memory_contexts-view" class="hash-link" aria-label="Direct link to about-the-pg_backend_memory_contexts-view" title="Direct link to about-the-pg_backend_memory_contexts-view">​</a></h3>
<p>To display the memory usage of all active memory contexts in the server process attached to the current session, use the <code>pg_backend_memory_contexts</code> system view. This view is restricted to superusers, but access might be granted to other roles.</p>
<div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">SELECT</span><span class="token plain"> </span><span class="token operator">*</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">FROM</span><span class="token plain"> pg_backend_memory_contexts</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="about-the-memory-context-admin-functions">About the memory context admin functions<a href="#about-the-memory-context-admin-functions" class="hash-link" aria-label="Direct link to About the memory context admin functions" title="Direct link to About the memory context admin functions">​</a></h3>
<p>You can use the system administration function <code>pg_log_backend_memory_contexts()</code> to instruct Cloudberry Database to dump the memory usage of other sessions running on the coordinator host into the server log. Execution of this function is restricted to superusers only, and cannot be granted to other roles.</p>
<p>The signature of <code>pg_log_backend_memory_contexts()</code> function follows:</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">pg_log_backend_memory_contexts( pid integer )</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>where <code>pid</code> identifies the process whose memory contexts you want dumped.</p>
<p><code>pg_log_backend_memory_contexts()</code> returns <code>t</code> when memory context logging is successfully activated for the process on the local host. When logging is activated, Cloudberry Database writes one message to the log for each memory context at the <code>LOG</code> message level. The log messages appear in the server log based on the log configuration set; refer to <a href="https://www.postgresql.org/docs/14/runtime-config-logging.html" target="_blank" rel="noopener noreferrer">Error Reporting and Logging</a> in the PostgreSQL documentation for more information. <em>The memory context log messages are not sent to the client</em>.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="sample-log-messages">Sample log messages<a href="#sample-log-messages" class="hash-link" aria-label="Direct link to Sample log messages" title="Direct link to Sample log messages">​</a></h3>
<p>The command:</p>
<div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">SELECT</span><span class="token plain"> pg_log_backend_memory_contexts</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain"> pg_backend_pid</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>triggered the dumping of the following (subset of) memory context messages to the local server log file:</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">2024-01-16 16:45:57.228512 UTC,&quot;gpadmin&quot;,&quot;testdb&quot;,p16389,th-557447104,&quot;[local]&quot;,,2024-01-16 15:57:32 UTC,0,,cmd10,seg-1,,,,sx1,&quot;LOG&quot;,&quot;00000&quot;,&quot;logging memory contexts of PID 16389&quot;,,,,,,&quot;SELECT pg_log_backend_memory_contexts(pg_backend_pid());&quot;,0,,&quot;mcxt.c&quot;,1278,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">2024-01-16 16:45:57.229275 UTC,&quot;gpadmin&quot;,&quot;testdb&quot;,p16389,th-557447104,&quot;[local]&quot;,,2024-01-16 15:57:32 UTC,0,,cmd10,seg-1,,,,sx1,&quot;LOG&quot;,&quot;00000&quot;,&quot;level: 0; TopMemoryContext: 108384 total in 6 blocks; 23248 free (21 chunks); 85136 used&quot;,,,,,,,0,,&quot;mcxt.c&quot;,884,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">2024-01-16 16:45:57.229822 UTC,&quot;gpadmin&quot;,&quot;testdb&quot;,p16389,th-557447104,&quot;[local]&quot;,,2024-01-16 15:57:32 UTC,0,,cmd10,seg-1,,,,sx1,&quot;LOG&quot;,&quot;00000&quot;,&quot;level: 1; pgstat TabStatusArray lookup hash table: 8192 total in 1 blocks; 1416 free (0 chunks); 6776 used&quot;,,,,,,,0,,&quot;mcxt.c&quot;,884,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">2024-01-16 16:45:57.230387 UTC,&quot;gpadmin&quot;,&quot;testdb&quot;,p16389,th-557447104,&quot;[local]&quot;,,2024-01-16 15:57:32 UTC,0,,cmd10,seg-1,,,,sx1,&quot;LOG&quot;,&quot;00000&quot;,&quot;level: 1; TopTransactionContext: 8192 total in 1 blocks; 7576 free (1 chunks); 616 used&quot;,,,,,,,0,,&quot;mcxt.c&quot;,884,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">2024-01-16 16:45:57.230961 UTC,&quot;gpadmin&quot;,&quot;testdb&quot;,p16389,th-557447104,&quot;[local]&quot;,,2024-01-16 15:57:32 UTC,0,,cmd10,seg-1,,,,sx1,&quot;LOG&quot;,&quot;00000&quot;,&quot;level: 1; TableSpace cache: 8192 total in 1 blocks; 2056 free (0 chunks); 6136 used&quot;,,,,,,,0,,&quot;mcxt.c&quot;,884,</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="view-query-workfile-usage-information">View query workfile usage information<a href="#view-query-workfile-usage-information" class="hash-link" aria-label="Direct link to View query workfile usage information" title="Direct link to View query workfile usage information">​</a></h2>
<p>The Cloudberry Database administrative schema <code>gp_toolkit</code> contains views that display information about Cloudberry Database workfiles. Cloudberry Database creates workfiles on disk if it does not have sufficient memory to run the query in memory. This information can be used for troubleshooting and tuning queries. The information in the views can also be used to specify the values for the Cloudberry Database configuration parameters <code>gp_workfile_limit_per_query</code> and <code>gp_workfile_limit_per_segment</code>.</p>
<p>These are the views in the schema <code>gp_toolkit</code>:</p>
<ul>
<li>The <code>gp_workfile_entries</code> view contains one row for each operator using disk space for workfiles on a segment at the current time.</li>
<li>The <code>gp_workfile_usage_per_query</code> view contains one row for each query using disk space for workfiles on a segment at the current time.</li>
<li>The <code>gp_workfile_usage_per_segment</code> view contains one row for each segment. Each row displays the total amount of disk space used for workfiles on the segment at the current time.</li>
</ul>
<p>For information about using <code>gp_toolkit</code>, see <a href="#use-gp_toolkit">Using <code>gp_toolkit</code></a>.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="view-the-database-server-log-files">View the database server log files<a href="#view-the-database-server-log-files" class="hash-link" aria-label="Direct link to View the database server log files" title="Direct link to View the database server log files">​</a></h2>
<p>Every database instance in Cloudberry Database (coordinator and segments) runs a PostgreSQL database server with its own server log file. Log files are created in the <code>log</code> directory of the coordinator and each segment data directory.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="log-file-format">Log file format<a href="#log-file-format" class="hash-link" aria-label="Direct link to Log file format" title="Direct link to Log file format">​</a></h3>
<p>The server log files are written in comma-separated values (CSV) format. Some log entries will not have values for all log fields. For example, only log entries associated with a query worker process will have the <code>slice_id</code> populated. You can identify related log entries of a particular query by the query&#x27;s session identifier (<code>gp_session_id</code>) and command identifier (<code>gp_command_count</code>).</p>
<p>The following fields are written to the log:</p>
<table><thead><tr><th>Number</th><th>Field Name</th><th>Data Type</th><th>Description</th></tr></thead><tbody><tr><td>1</td><td>event_time</td><td>timestamp with time zone</td><td>Time that the log entry was written to the log</td></tr><tr><td>2</td><td>user_name</td><td>varchar(100)</td><td>The database user name</td></tr><tr><td>3</td><td>database_name</td><td>varchar(100)</td><td>The database name</td></tr><tr><td>4</td><td>process_id</td><td>varchar(10)</td><td>The system process ID (prefixed with &quot;p&quot;)</td></tr><tr><td>5</td><td>thread_id</td><td>varchar(50)</td><td>The thread count (prefixed with &quot;th&quot;)</td></tr><tr><td>6</td><td>remote_host</td><td>varchar(100)</td><td>On the coordinator, the hostname/address of the client machine. On the segment, the hostname/address of the coordinator.</td></tr><tr><td>7</td><td>remote_port</td><td>varchar(10)</td><td>The segment or coordinator port number</td></tr><tr><td>8</td><td>session_start_time</td><td>timestamp with time zone</td><td>Time session connection was opened</td></tr><tr><td>9</td><td>transaction_id</td><td>int</td><td>Top-level transaction ID on the coordinator. This ID is the parent of any subtransactions.</td></tr><tr><td>10</td><td>gp_session_id</td><td>text</td><td>Session identifier number (prefixed with &quot;con&quot;)</td></tr><tr><td>11</td><td>gp_command_count</td><td>text</td><td>The command number within a session (prefixed with &quot;cmd&quot;)</td></tr><tr><td>12</td><td>gp_segment</td><td>text</td><td>The segment content identifier (prefixed with &quot;seg&quot; for primaries or &quot;mir&quot; for mirrors). The coordinator always has a content ID of -1.</td></tr><tr><td>13</td><td>slice_id</td><td>text</td><td>The slice ID (portion of the query plan being executed)</td></tr><tr><td>14</td><td>distr_tranx_id</td><td>text</td><td>Distributed transaction ID</td></tr><tr><td>15</td><td>local_tranx_id</td><td>text</td><td>Local transaction ID</td></tr><tr><td>16</td><td>sub_tranx_id</td><td>text</td><td>Subtransaction ID</td></tr><tr><td>17</td><td>event_severity</td><td>varchar(10)</td><td>Values include: LOG, ERROR, FATAL, PANIC, DEBUG1, DEBUG2</td></tr><tr><td>18</td><td>sql_state_code</td><td>varchar(10)</td><td>SQL state code associated with the log message</td></tr><tr><td>19</td><td>event_message</td><td>text</td><td>Log or error message text</td></tr><tr><td>20</td><td>event_detail</td><td>text</td><td>Detail message text associated with an error or warning message</td></tr><tr><td>21</td><td>event_hint</td><td>text</td><td>Hint message text associated with an error or warning message</td></tr><tr><td>22</td><td>internal_query</td><td>text</td><td>The internally-generated query text</td></tr><tr><td>23</td><td>internal_query_pos</td><td>int</td><td>The cursor index into the internally-generated query text</td></tr><tr><td>24</td><td>event_context</td><td>text</td><td>The context in which this message gets generated</td></tr><tr><td>25</td><td>debug_query_string</td><td>text</td><td>User-supplied query string with full detail for debugging. This string can be modified for internal use.</td></tr><tr><td>26</td><td>error_cursor_pos</td><td>int</td><td>The cursor index into the query string</td></tr><tr><td>27</td><td>func_name</td><td>text</td><td>The function in which this message is generated</td></tr><tr><td>28</td><td>file_name</td><td>text</td><td>The internal code file where the message originated</td></tr><tr><td>29</td><td>file_line</td><td>int</td><td>The line of the code file where the message originated</td></tr><tr><td>30</td><td>stack_trace</td><td>text</td><td>Stack trace text associated with this message</td></tr></tbody></table>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="search-the-cloudberry-database-server-log-files">Search the Cloudberry Database server log files<a href="#search-the-cloudberry-database-server-log-files" class="hash-link" aria-label="Direct link to Search the Cloudberry Database server log files" title="Direct link to Search the Cloudberry Database server log files">​</a></h3>
<p>Cloudberry Database provides a utility called <code>gplogfilter</code> can search through a Cloudberry Database log file for entries matching the specified criteria. By default, this utility searches through the Cloudberry Database coordinator log file in the default logging location. For example, to display the last three lines of each of the log files under the coordinator directory:</p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">gplogfilter -n 3</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="use-gp_toolkit">Use <code>gp_toolkit</code><a href="#use-gp_toolkit" class="hash-link" aria-label="Direct link to use-gp_toolkit" title="Direct link to use-gp_toolkit">​</a></h2>
<p>Use the Cloudberry Database administrative schema <code>gp_toolkit</code> to query the system catalogs, log files, and operating environment for system status information. The <code>gp_toolkit</code> schema contains several views you can access using SQL commands. The <code>gp_toolkit</code> schema is accessible to all database users. Some objects require superuser permissions. Use a command similar to the following to add the <code>gp_toolkit</code> schema to your schema search path:</p>
<div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token operator">=</span><span class="token operator">&gt;</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">ALTER</span><span class="token plain"> ROLE myrole </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">SET</span><span class="token plain"> search_path </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">TO</span><span class="token plain"> myschema</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain">gp_toolkit</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="sql-standard-error-codes">SQL standard error codes<a href="#sql-standard-error-codes" class="hash-link" aria-label="Direct link to SQL standard error codes" title="Direct link to SQL standard error codes">​</a></h2>
<p>The following table lists all the defined error codes. Some are not used, but are defined by the SQL standard. The error classes are also shown. For each error class there is a standard error code having the last 3 characters <code>000</code>. This code is used only for error conditions that fall within the class but do not have any more-specific code assigned.</p>
<p>The PL/pgSQL condition name for each error code is the same as the phrase shown in the table, with underscores substituted for spaces. For example, code 22012, DIVISION BY ZERO, has condition name <code>DIVISION_BY_ZERO</code>. Condition names can be written in either upper or lower case.</p>
<div class="theme-admonition theme-admonition-tip admonition_xJq3 alert alert--success"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</div><div class="admonitionContent_BuS1"><p><strong>How to view error codes</strong></p><p>When you execute SQL queries or perform other database operations in Cloudberry Database, and an error occurs, the system returns an error message. However, this standard error message may not directly display the SQLSTATE error code. Here are some methods to view these error codes:</p><ul>
<li>
<p>Use PL/pgSQL exception handling. For example:</p>
<div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">DO</span><span class="token plain"> $$</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">BEGIN</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)">-- Replaces the following SQL with your query</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">EXECUTE</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;Your SQL Query&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">EXCEPTION </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">WHEN</span><span class="token plain"> OTHERS </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">THEN</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">RAISE NOTICE </span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;Error code: %&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> SQLSTATE</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">END</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">$$</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
<li>
<p>Check the database log. Cloudberry Database records detailed error information, including error codes, in its log files. Depending on your system setup, you can check the log files on the database server for this information.</p>
</li>
<li>
<p>Use advanced database client tools. Some advanced database client or management tools may offer more detailed error reporting features that can directly display SQLSTATE error codes.</p>
</li>
</ul><p>Note:</p><p>Not all errors have a specific SQLSTATE error code. Some errors might only have a general error class code, like &#x27;XX000&#x27; for an internal error.</p><p>When using PL/pgSQL exception handling, ensure that your SQL query statement is correctly formatted as a string, especially when executing SQL statements dynamically.</p><p>PL/pgSQL does not recognize warning, as opposed to error, condition names; those are classes 00, 01, and 02.</p></div></div>
<table><thead><tr><th>Error Code</th><th>Meaning</th><th>Constant</th></tr></thead><tbody><tr><td><strong>Class 00</strong>— Successful Completion</td><td></td><td></td></tr><tr><td>00000</td><td>SUCCESSFUL COMPLETION</td><td>successful_completion</td></tr><tr><td>Class 01 — Warning</td><td></td><td></td></tr><tr><td>01000</td><td>WARNING</td><td>warning</td></tr><tr><td>0100C</td><td>DYNAMIC RESULT SETS RETURNED</td><td>dynamic_result_sets_returned</td></tr><tr><td>01008</td><td>IMPLICIT ZERO BIT PADDING</td><td>implicit_zero_bit_padding</td></tr><tr><td>01003</td><td>NULL VALUE ELIMINATED IN SET FUNCTION</td><td>null_value_eliminated_in_set_function</td></tr><tr><td>01007</td><td>PRIVILEGE NOT GRANTED</td><td>privilege_not_granted</td></tr><tr><td>01006</td><td>PRIVILEGE NOT REVOKED</td><td>privilege_not_revoked</td></tr><tr><td>01004</td><td>STRING DATA RIGHT TRUNCATION</td><td>string_data_right_truncation</td></tr><tr><td>01P01</td><td>DEPRECATED FEATURE</td><td>deprecated_feature</td></tr><tr><td><strong>Class 02</strong> — No Data (this is also a warning class per the SQL standard)</td><td></td><td></td></tr><tr><td>02000</td><td>NO DATA</td><td>no_data</td></tr><tr><td>02001</td><td>NO ADDITIONAL DYNAMIC RESULT SETS RETURNED</td><td>no_additional_dynamic_result_sets_returned</td></tr><tr><td><strong>Class 03</strong> — SQL Statement Not Yet Complete</td><td></td><td></td></tr><tr><td>03000</td><td>SQL STATEMENT NOT YET COMPLETE</td><td>sql_statement_not_yet_complete</td></tr><tr><td><strong>Class 08</strong> — Connection Exception</td><td></td><td></td></tr><tr><td>08000</td><td>CONNECTION EXCEPTION</td><td>connection_exception</td></tr><tr><td>08003</td><td>CONNECTION DOES NOT EXIST</td><td>connection_does_not_exist</td></tr><tr><td>08006</td><td>CONNECTION FAILURE</td><td>connection_failure</td></tr><tr><td>08001</td><td>SQLCLIENT UNABLE TO ESTABLISH SQLCONNECTION</td><td>sqlclient_unable_to_establish_sqlconnection</td></tr><tr><td>08004</td><td>SQLSERVER REJECTED ESTABLISHMENT OF SQLCONNECTION</td><td>sqlserver_rejected_establishment_of_sqlconnection</td></tr><tr><td>08007</td><td>TRANSACTION RESOLUTION UNKNOWN</td><td>transaction_resolution_unknown</td></tr><tr><td>08P01</td><td>PROTOCOL VIOLATION</td><td>protocol_violation</td></tr><tr><td><strong>Class 09</strong> — Triggered Action Exception</td><td></td><td></td></tr><tr><td>09000</td><td>TRIGGERED ACTION EXCEPTION</td><td>triggered_action_exception</td></tr><tr><td><strong>Class 0A</strong> — Feature Not Supported</td><td></td><td></td></tr><tr><td>0A000</td><td>FEATURE NOT SUPPORTED</td><td>feature_not_supported</td></tr><tr><td><strong>Class 0B</strong> — Invalid Transaction Initiation</td><td></td><td></td></tr><tr><td>0B000</td><td>INVALID TRANSACTION INITIATION</td><td>invalid_transaction_initiation</td></tr><tr><td><strong>Class 0F</strong> — Locator Exception</td><td></td><td></td></tr><tr><td>0F000</td><td>LOCATOR EXCEPTION</td><td>locator_exception</td></tr><tr><td>0F001</td><td>INVALID LOCATOR SPECIFICATION</td><td>invalid_locator_specification</td></tr><tr><td><strong>Class 0L</strong> — Invalid Grantor</td><td></td><td></td></tr><tr><td>0L000</td><td>INVALID GRANTOR</td><td>invalid_grantor</td></tr><tr><td>0LP01</td><td>INVALID GRANT OPERATION</td><td>invalid_grant_operation</td></tr><tr><td><strong>Class 0P</strong> — Invalid Role Specification</td><td></td><td></td></tr><tr><td>0P000</td><td>INVALID ROLE SPECIFICATION</td><td>invalid_role_specification</td></tr><tr><td><strong>Class 21</strong> — Cardinality Violation</td><td></td><td></td></tr><tr><td>21000</td><td>CARDINALITY VIOLATION</td><td>cardinality_violation</td></tr><tr><td><strong>Class 22</strong> — Data Exception</td><td></td><td></td></tr><tr><td>22000</td><td>DATA EXCEPTION</td><td>data_exception</td></tr><tr><td>2202E</td><td>ARRAY SUBSCRIPT ERROR</td><td>array_subscript_error</td></tr><tr><td>22021</td><td>CHARACTER NOT IN REPERTOIRE</td><td>character_not_in_repertoire</td></tr><tr><td>22008</td><td>DATETIME FIELD OVERFLOW</td><td>datetime_field_overflow</td></tr><tr><td>22012</td><td>DIVISION BY ZERO</td><td>division_by_zero</td></tr><tr><td>22005</td><td>ERROR IN ASSIGNMENT</td><td>error_in_assignment</td></tr><tr><td>2200B</td><td>ESCAPE CHARACTER CONFLICT</td><td>escape_character_conflict</td></tr><tr><td>22022</td><td>INDICATOR OVERFLOW</td><td>indicator_overflow</td></tr><tr><td>22015</td><td>INTERVAL FIELD OVERFLOW</td><td>interval_field_overflow</td></tr><tr><td>2201E</td><td>INVALID ARGUMENT FOR LOGARITHM</td><td>invalid_argument_for_logarithm</td></tr><tr><td>2201F</td><td>INVALID ARGUMENT FOR POWER FUNCTION</td><td>invalid_argument_for_power_function</td></tr><tr><td>2201G</td><td>INVALID ARGUMENT FOR WIDTH BUCKET FUNCTION</td><td>invalid_argument_for_width_bucket_function</td></tr><tr><td>22018</td><td>INVALID CHARACTER VALUE FOR CAST</td><td>invalid_character_value_for_cast</td></tr><tr><td>22007</td><td>INVALID DATETIME FORMAT</td><td>invalid_datetime_format</td></tr><tr><td>22019</td><td>INVALID ESCAPE CHARACTER</td><td>invalid_escape_character</td></tr><tr><td>2200D</td><td>INVALID ESCAPE OCTET</td><td>invalid_escape_octet</td></tr><tr><td>22025</td><td>INVALID ESCAPE SEQUENCE</td><td>invalid_escape_sequence</td></tr><tr><td>22P06</td><td>NONSTANDARD USE OF ESCAPE CHARACTER</td><td>nonstandard_use_of_escape_character</td></tr><tr><td>22010</td><td>INVALID INDICATOR PARAMETER VALUE</td><td>invalid_indicator_parameter_value</td></tr><tr><td>22020</td><td>INVALID LIMIT VALUE</td><td>invalid_limit_value</td></tr><tr><td>22023</td><td>INVALID PARAMETER VALUE</td><td>invalid_parameter_value</td></tr><tr><td>2201B</td><td>INVALID REGULAR EXPRESSION</td><td>invalid_regular_expression</td></tr><tr><td>22009</td><td>INVALID TIME ZONE DISPLACEMENT VALUE</td><td>invalid_time_zone_displacement_value</td></tr><tr><td>2200C</td><td>INVALID USE OF ESCAPE CHARACTER</td><td>invalid_use_of_escape_character</td></tr><tr><td>2200G</td><td>MOST SPECIFIC TYPE MISMATCH</td><td>most_specific_type_mismatch</td></tr><tr><td>22004</td><td>NULL VALUE NOT ALLOWED</td><td>null_value_not_allowed</td></tr><tr><td>22002</td><td>NULL VALUE NO INDICATOR PARAMETER</td><td>null_value_no_indicator_parameter</td></tr><tr><td>22003</td><td>NUMERIC VALUE OUT OF RANGE</td><td>numeric_value_out_of_range</td></tr><tr><td>22026</td><td>STRING DATA LENGTH MISMATCH</td><td>string_data_length_mismatch</td></tr><tr><td>22001</td><td>STRING DATA RIGHT TRUNCATION</td><td>string_data_right_truncation</td></tr><tr><td>22011</td><td>SUBSTRING ERROR</td><td>substring_error</td></tr><tr><td>22027</td><td>TRIM ERROR</td><td>trim_error</td></tr><tr><td>22024</td><td>UNTERMINATED C STRING</td><td>unterminated_c_string</td></tr><tr><td>2200F</td><td>ZERO LENGTH CHARACTER STRING</td><td>zero_length_character_string</td></tr><tr><td>22P01</td><td>FLOATING POINT EXCEPTION</td><td>floating_point_exception</td></tr><tr><td>22P02</td><td>INVALID TEXT REPRESENTATION</td><td>invalid_text_representation</td></tr><tr><td>22P03</td><td>INVALID BINARY REPRESENTATION</td><td>invalid_binary_representation</td></tr><tr><td>22P04</td><td>BAD COPY FILE FORMAT</td><td>bad_copy_file_format</td></tr><tr><td>22P05</td><td>UNTRANSLATABLE CHARACTER</td><td>untranslatable_character</td></tr><tr><td><strong>Class 23</strong> — Integrity Constraint Violation</td><td></td><td></td></tr><tr><td>23000</td><td>INTEGRITY CONSTRAINT VIOLATION</td><td>integrity_constraint_violation</td></tr><tr><td>23001</td><td>RESTRICT VIOLATION</td><td>restrict_violation</td></tr><tr><td>23502</td><td>NOT NULL VIOLATION</td><td>not_null_violation</td></tr><tr><td>23503</td><td>FOREIGN KEY VIOLATION</td><td>foreign_key_violation</td></tr><tr><td>23505</td><td>UNIQUE VIOLATION</td><td>unique_violation</td></tr><tr><td>23514</td><td>CHECK VIOLATION</td><td>check_violation</td></tr><tr><td><strong>Class 24</strong> — Invalid Cursor State</td><td></td><td></td></tr><tr><td>24000</td><td>INVALID CURSOR STATE</td><td>invalid_cursor_state</td></tr><tr><td><strong>Class 25</strong> — Invalid Transaction State</td><td></td><td></td></tr><tr><td>25000</td><td>INVALID TRANSACTION STATE</td><td>invalid_transaction_state</td></tr><tr><td>25001</td><td>ACTIVE SQL TRANSACTION</td><td>active_sql_transaction</td></tr><tr><td>25002</td><td>BRANCH TRANSACTION ALREADY ACTIVE</td><td>branch_transaction_already_active</td></tr><tr><td>25008</td><td>HELD CURSOR REQUIRES SAME ISOLATION LEVEL</td><td>held_cursor_requires_same_isolation_level</td></tr><tr><td>25003</td><td>INAPPROPRIATE ACCESS MODE FOR BRANCH TRANSACTION</td><td>inappropriate_access_mode_for_branch_transaction</td></tr><tr><td>25004</td><td>INAPPROPRIATE ISOLATION LEVEL FOR BRANCH TRANSACTION</td><td>inappropriate_isolation_level_for_branch_transaction</td></tr><tr><td>25005</td><td>NO ACTIVE SQL TRANSACTION FOR BRANCH TRANSACTION</td><td>no_active_sql_transaction_for_branch_transaction</td></tr><tr><td>25006</td><td>READ ONLY SQL TRANSACTION</td><td>read_only_sql_transaction</td></tr><tr><td>25007</td><td>SCHEMA AND DATA STATEMENT MIXING NOT SUPPORTED</td><td>schema_and_data_statement_mixing_not_supported</td></tr><tr><td>25P01</td><td>NO ACTIVE SQL TRANSACTION</td><td>no_active_sql_transaction</td></tr><tr><td>25P02</td><td>IN FAILED SQL TRANSACTION</td><td>in_failed_sql_transaction</td></tr><tr><td><strong>Class 26</strong> — Invalid SQL Statement Name</td><td></td><td></td></tr><tr><td>26000</td><td>INVALID SQL STATEMENT NAME</td><td>invalid_sql_statement_name</td></tr><tr><td><strong>Class 27</strong> — Triggered Data Change Violation</td><td></td><td></td></tr><tr><td>27000</td><td>TRIGGERED DATA CHANGE VIOLATION</td><td>triggered_data_change_violation</td></tr><tr><td><strong>Class 28</strong> — Invalid Authorization Specification</td><td></td><td></td></tr><tr><td>28000</td><td>INVALID AUTHORIZATION SPECIFICATION</td><td>invalid_authorization_specification</td></tr><tr><td><strong>Class 2B</strong> — Dependent Privilege Descriptors Still Exist</td><td></td><td></td></tr><tr><td>2B000</td><td>DEPENDENT PRIVILEGE DESCRIPTORS STILL EXIST</td><td>dependent_privilege_descriptors_still_exist</td></tr><tr><td>2BP01</td><td>DEPENDENT OBJECTS STILL EXIST</td><td>dependent_objects_still_exist</td></tr><tr><td><strong>Class 2D</strong> — Invalid Transaction Termination</td><td></td><td></td></tr><tr><td>2D000</td><td>INVALID TRANSACTION TERMINATION</td><td>invalid_transaction_termination</td></tr><tr><td><strong>Class 2F</strong> — SQL Routine Exception</td><td></td><td></td></tr><tr><td>2F000</td><td>SQL ROUTINE EXCEPTION</td><td>sql_routine_exception</td></tr><tr><td>2F005</td><td>FUNCTION EXECUTED NO RETURN STATEMENT</td><td>function_executed_no_return_statement</td></tr><tr><td>2F002</td><td>MODIFYING SQL DATA NOT PERMITTED</td><td>modifying_sql_data_not_permitted</td></tr><tr><td>2F003</td><td>PROHIBITED SQL STATEMENT ATTEMPTED</td><td>prohibited_sql_statement_attempted</td></tr><tr><td>2F004</td><td>READING SQL DATA NOT PERMITTED</td><td>reading_sql_data_not_permitted</td></tr><tr><td><strong>Class 34</strong> — Invalid Cursor Name</td><td></td><td></td></tr><tr><td>34000</td><td>INVALID CURSOR NAME</td><td>invalid_cursor_name</td></tr><tr><td><strong>Class 38</strong> — External Routine Exception</td><td></td><td></td></tr><tr><td>38000</td><td>EXTERNAL ROUTINE EXCEPTION</td><td>external_routine_exception</td></tr><tr><td>38001</td><td>CONTAINING SQL NOT PERMITTED</td><td>containing_sql_not_permitted</td></tr><tr><td>38002</td><td>MODIFYING SQL DATA NOT PERMITTED</td><td>modifying_sql_data_not_permitted</td></tr><tr><td>38003</td><td>PROHIBITED SQL STATEMENT ATTEMPTED</td><td>prohibited_sql_statement_attempted</td></tr><tr><td>38004</td><td>READING SQL DATA NOT PERMITTED</td><td>reading_sql_data_not_permitted</td></tr><tr><td><strong>Class 39</strong> — External Routine Invocation Exception</td><td></td><td></td></tr><tr><td>39000</td><td>EXTERNAL ROUTINE INVOCATION EXCEPTION</td><td>external_routine_invocation_exception</td></tr><tr><td>39001</td><td>INVALID SQLSTATE RETURNED</td><td>invalid_sqlstate_returned</td></tr><tr><td>39004</td><td>NULL VALUE NOT ALLOWED</td><td>null_value_not_allowed</td></tr><tr><td>39P01</td><td>TRIGGER PROTOCOL VIOLATED</td><td>trigger_protocol_violated</td></tr><tr><td>39P02</td><td>SRF PROTOCOL VIOLATED</td><td>srf_protocol_violated</td></tr><tr><td><strong>Class 3B</strong> — Savepoint Exception</td><td></td><td></td></tr><tr><td>3B000</td><td>SAVEPOINT EXCEPTION</td><td>savepoint_exception</td></tr><tr><td>3B001</td><td>INVALID SAVEPOINT SPECIFICATION</td><td>invalid_savepoint_specification</td></tr><tr><td><strong>Class 3D</strong> — Invalid Catalog Name</td><td></td><td></td></tr><tr><td>3D000</td><td>INVALID CATALOG NAME</td><td>invalid_catalog_name</td></tr><tr><td><strong>Class 3F</strong> — Invalid Schema Name</td><td></td><td></td></tr><tr><td>3F000</td><td>INVALID SCHEMA NAME</td><td>invalid_schema_name</td></tr><tr><td><strong>Class 40</strong> — Transaction Rollback</td><td></td><td></td></tr><tr><td>40000</td><td>TRANSACTION ROLLBACK</td><td>transaction_rollback</td></tr><tr><td>40002</td><td>TRANSACTION INTEGRITY CONSTRAINT VIOLATION</td><td>transaction_integrity_constraint_violation</td></tr><tr><td>40001</td><td>SERIALIZATION FAILURE</td><td>serialization_failure</td></tr><tr><td>40003</td><td>STATEMENT COMPLETION UNKNOWN</td><td>statement_completion_unknown</td></tr><tr><td>40P01</td><td>DEADLOCK DETECTED</td><td>deadlock_detected</td></tr><tr><td><strong>Class 42</strong> — Syntax Error or Access Rule Violation</td><td></td><td></td></tr><tr><td>42000</td><td>SYNTAX ERROR OR ACCESS RULE VIOLATION</td><td>syntax_error_or_access_rule_violation</td></tr><tr><td>42601</td><td>SYNTAX ERROR</td><td>syntax_error</td></tr><tr><td>42501</td><td>INSUFFICIENT PRIVILEGE</td><td>insufficient_privilege</td></tr><tr><td>42846</td><td>CANNOT COERCE</td><td>cannot_coerce</td></tr><tr><td>42803</td><td>GROUPING ERROR</td><td>grouping_error</td></tr><tr><td>42830</td><td>INVALID FOREIGN KEY</td><td>invalid_foreign_key</td></tr><tr><td>42602</td><td>INVALID NAME</td><td>invalid_name</td></tr><tr><td>42622</td><td>NAME TOO LONG</td><td>name_too_long</td></tr><tr><td>42939</td><td>RESERVED NAME</td><td>reserved_name</td></tr><tr><td>42804</td><td>DATATYPE MISMATCH</td><td>datatype_mismatch</td></tr><tr><td>42P18</td><td>INDETERMINATE DATATYPE</td><td>indeterminate_datatype</td></tr><tr><td>42809</td><td>WRONG OBJECT TYPE</td><td>wrong_object_type</td></tr><tr><td>42703</td><td>UNDEFINED COLUMN</td><td>undefined_column</td></tr><tr><td>42883</td><td>UNDEFINED FUNCTION</td><td>undefined_function</td></tr><tr><td>42P01</td><td>UNDEFINED TABLE</td><td>undefined_table</td></tr><tr><td>42P02</td><td>UNDEFINED PARAMETER</td><td>undefined_parameter</td></tr><tr><td>42704</td><td>UNDEFINED OBJECT</td><td>undefined_object</td></tr><tr><td>42701</td><td>DUPLICATE COLUMN</td><td>duplicate_column</td></tr><tr><td>42P03</td><td>DUPLICATE CURSOR</td><td>duplicate_cursor</td></tr><tr><td>42P04</td><td>DUPLICATE DATABASE</td><td>duplicate_database</td></tr><tr><td>42723</td><td>DUPLICATE FUNCTION</td><td>duplicate_function</td></tr><tr><td>42P05</td><td>DUPLICATE PREPARED STATEMENT</td><td>duplicate_prepared_statement</td></tr><tr><td>42P06</td><td>DUPLICATE SCHEMA</td><td>duplicate_schema</td></tr><tr><td>42P07</td><td>DUPLICATE TABLE</td><td>duplicate_table</td></tr><tr><td>42712</td><td>DUPLICATE ALIAS</td><td>duplicate_alias</td></tr><tr><td>42710</td><td>DUPLICATE OBJECT</td><td>duplicate_object</td></tr><tr><td>42702</td><td>AMBIGUOUS COLUMN</td><td>ambiguous_column</td></tr><tr><td>42725</td><td>AMBIGUOUS FUNCTION</td><td>ambiguous_function</td></tr><tr><td>42P08</td><td>AMBIGUOUS PARAMETER</td><td>ambiguous_parameter</td></tr><tr><td>42P09</td><td>AMBIGUOUS ALIAS</td><td>ambiguous_alias</td></tr><tr><td>42P10</td><td>INVALID COLUMN REFERENCE</td><td>invalid_column_reference</td></tr><tr><td>42611</td><td>INVALID COLUMN DEFINITION</td><td>invalid_column_definition</td></tr><tr><td>42P11</td><td>INVALID CURSOR DEFINITION</td><td>invalid_cursor_definition</td></tr><tr><td>42P12</td><td>INVALID DATABASE DEFINITION</td><td>invalid_database_definition</td></tr><tr><td>42P13</td><td>INVALID FUNCTION DEFINITION</td><td>invalid_function_definition</td></tr><tr><td>42P14</td><td>INVALID PREPARED STATEMENT DEFINITION</td><td>invalid_prepared_statement_definition</td></tr><tr><td>42P15</td><td>INVALID SCHEMA DEFINITION</td><td>invalid_schema_definition</td></tr><tr><td>42P16</td><td>INVALID TABLE DEFINITION</td><td>invalid_table_definition</td></tr><tr><td>42P17</td><td>INVALID OBJECT DEFINITION</td><td>invalid_object_definition</td></tr><tr><td><strong>Class 44</strong> — WITH CHECK OPTION Violation</td><td></td><td></td></tr><tr><td>44000</td><td>WITH CHECK OPTION VIOLATION</td><td>with_check_option_violation</td></tr><tr><td><strong>Class 53</strong> — Insufficient Resources</td><td></td><td></td></tr><tr><td>53000</td><td>INSUFFICIENT RESOURCES</td><td>insufficient_resources</td></tr><tr><td>53100</td><td>DISK FULL</td><td>disk_full</td></tr><tr><td>53200</td><td>OUT OF MEMORY</td><td>out_of_memory</td></tr><tr><td>53300</td><td>TOO MANY CONNECTIONS</td><td>too_many_connections</td></tr><tr><td><strong>Class 54</strong> — Program Limit Exceeded</td><td></td><td></td></tr><tr><td>54000</td><td>PROGRAM LIMIT EXCEEDED</td><td>program_limit_exceeded</td></tr><tr><td>54001</td><td>STATEMENT TOO COMPLEX</td><td>statement_too_complex</td></tr><tr><td>54011</td><td>TOO MANY COLUMNS</td><td>too_many_columns</td></tr><tr><td>54023</td><td>TOO MANY ARGUMENTS</td><td>too_many_arguments</td></tr><tr><td><strong>Class 55</strong> — Object Not In Prerequisite State</td><td></td><td></td></tr><tr><td>55000</td><td>OBJECT NOT IN PREREQUISITE STATE</td><td>object_not_in_prerequisite_state</td></tr><tr><td>55006</td><td>OBJECT IN USE</td><td>object_in_use</td></tr><tr><td>55P02</td><td>CANT CHANGE RUNTIME PARAM</td><td>cant_change_runtime_param</td></tr><tr><td>55P03</td><td>LOCK NOT AVAILABLE</td><td>lock_not_available</td></tr><tr><td><strong>Class 57</strong> — Operator Intervention</td><td></td><td></td></tr><tr><td>57000</td><td>OPERATOR INTERVENTION</td><td>operator_intervention</td></tr><tr><td>57014</td><td>QUERY CANCELED</td><td>query_canceled</td></tr><tr><td>57P01</td><td>ADMIN SHUTDOWN</td><td>admin_shutdown</td></tr><tr><td>57P02</td><td>CRASH SHUTDOWN</td><td>crash_shutdown</td></tr><tr><td>57P03</td><td>CANNOT CONNECT NOW</td><td>cannot_connect_now</td></tr><tr><td><strong>Class 58</strong> — System Error (errors external to Cloudberry Database )</td><td></td><td></td></tr><tr><td>58030</td><td>IO ERROR</td><td>io_error</td></tr><tr><td>58P01</td><td>UNDEFINED FILE</td><td>undefined_file</td></tr><tr><td>58P02</td><td>DUPLICATE FILE</td><td>duplicate_file</td></tr><tr><td>Class F0 — Configuration File Error</td><td></td><td></td></tr><tr><td>F0000</td><td>CONFIG FILE ERROR</td><td>config_file_error</td></tr><tr><td>F0001</td><td>LOCK FILE EXISTS</td><td>lock_file_exists</td></tr><tr><td><strong>Class P0</strong> — PL/pgSQL Error</td><td></td><td></td></tr><tr><td>P0000</td><td>PLPGSQL ERROR</td><td>plpgsql_error</td></tr><tr><td>P0001</td><td>RAISE EXCEPTION</td><td>raise_exception</td></tr><tr><td>P0002</td><td>NO DATA FOUND</td><td>no_data_found</td></tr><tr><td>P0003</td><td>TOO MANY ROWS</td><td>too_many_rows</td></tr><tr><td><strong>Class XX</strong> — Internal Error</td><td></td><td></td></tr><tr><td>XX000</td><td>INTERNAL ERROR</td><td>internal_error</td></tr><tr><td>XX001</td><td>DATA CORRUPTED</td><td>data_corrupted</td></tr><tr><td>XX002</td><td>INDEX CORRUPTED</td><td>index_corrupted</td></tr></tbody></table></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/apache/cloudberry-site/edit/main/docs/sys-admin/check-database-system.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_VsjB"><span class="theme-last-updated">Last updated<!-- --> on <b><time datetime="2025-02-27T06:24:48.000Z">Feb 27, 2025</time></b> by <b>Dianjin Wang</b></span></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/sys-admin/configure-database-system"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label single-line-overflow hide-before-after">Configure Database System</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/sys-admin/enable-coordinator-mirroring"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label single-line-overflow hide-before-after">Enable Coordinator Mirroring for Cloudberry Database</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_jeP5 thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#check-system-state" class="table-of-contents__link toc-highlight">Check system state</a></li><li><a href="#check-disk-space-usage" class="table-of-contents__link toc-highlight">Check disk space usage</a></li><li><a href="#check-for-data-distribution-skew" class="table-of-contents__link toc-highlight">Check for data distribution skew</a></li><li><a href="#view-metadata-information-about-database-objects" class="table-of-contents__link toc-highlight">View metadata information about database objects</a></li><li><a href="#view-session-memory-usage-information" class="table-of-contents__link toc-highlight">View session memory usage information</a></li><li><a href="#view-and-log-per-process-memory-usage-information" class="table-of-contents__link toc-highlight">View and log per-process memory usage information</a></li><li><a href="#view-query-workfile-usage-information" class="table-of-contents__link toc-highlight">View query workfile usage information</a></li><li><a href="#view-the-database-server-log-files" class="table-of-contents__link toc-highlight">View the database server log files</a></li><li><a href="#use-gp_toolkit" class="table-of-contents__link toc-highlight">Use <code>gp_toolkit</code></a></li><li><a href="#sql-standard-error-codes" class="table-of-contents__link toc-highlight">SQL standard error codes</a></li></ul></div></div></div></div></main></div></div></div><div class="wrap_QlFE"><div class="mainWrap_IbWk"><div class="linksWrap_Zcc4"><div><div class="footerLinkTitle_PxTg">Support</div><div class="footerLinkItem_Kf4k"><a href="https://github.com/apache/cloudberry/issues" target="_blank" rel="noopener noreferrer">GitHub Issues</a></div><div class="footerLinkItem_Kf4k"><a href="https://github.com/apache/cloudberry/discussions" target="_blank" rel="noopener noreferrer">GitHub Discussions</a></div><div class="footerLinkItem_Kf4k"><a href="https://inviter.co/apache-cloudberry" target="_blank" rel="noopener noreferrer">Slack</a></div><div class="footerLinkItem_Kf4k"><a href="https://x.com/ASFCloudberry" target="_blank" rel="noopener noreferrer">Twitter</a></div><div class="footerLinkItem_Kf4k"><a href="https://youtube.com/@ApacheCloudberry" target="_blank" rel="noopener noreferrer">Youtube</a></div><div class="footerLinkItem_Kf4k"><a target="_self" href="/community/security">Security</a></div></div><div><div class="footerLinkTitle_PxTg">Resources</div><div class="footerLinkItem_Kf4k"><a href="https://github.com/apache/cloudberry/releases" target="_blank" rel="noopener noreferrer">Download</a></div><div class="footerLinkItem_Kf4k"><a target="_self" href="/docs/">Documentation</a></div><div class="footerLinkItem_Kf4k"><a target="_self" href="/community/events">Events</a></div><div class="footerLinkItem_Kf4k"><a href="/community/brand" target="_blank">Brand Guidelines</a></div></div><div><div class="footerLinkTitle_PxTg">Contribution</div><div class="footerLinkItem_Kf4k"><a target="_self" href="/contribute/git">Working with Git &amp; GitHub</a></div><div class="footerLinkItem_Kf4k"><a target="_self" href="/contribute/how-to-contribute">Contribution Overview</a></div><div class="footerLinkItem_Kf4k"><a target="_self" href="/contribute/code">Code Contribution</a></div><div class="footerLinkItem_Kf4k"><a target="_self" href="/contribute/doc">Doc Contribution</a></div></div></div><div class="logoLinkWrap_MDp5"><div class="logoWrap_qcVI"><img class="logo_cphB" src="/img/apache-incubator.svg" alt=""></div><div class="links_yA93"><svg width="30" height="30" viewBox="0 0 30 30" fill="none" xmlns="http://www.w3.org/2000/svg" class="item_KKoc" cursor="pointer"><path d="M15.002 0c-8.288 0-15 6.713-15 15 0 6.637 4.293 12.244 10.256 14.231.75.131 1.031-.319 1.031-.712 0-.356-.019-1.538-.019-2.794-3.769.694-4.744-.919-5.044-1.763-.168-.43-.9-1.762-1.537-2.118-.525-.282-1.275-.975-.019-.994 1.181-.019 2.025 1.087 2.306 1.537 1.35 2.27 3.507 1.632 4.37 1.238.13-.975.524-1.631.956-2.006-3.338-.375-6.826-1.669-6.826-7.406 0-1.632.582-2.982 1.538-4.032-.15-.375-.675-1.912.15-3.975 0 0 1.256-.394 4.125 1.538 1.2-.338 2.475-.506 3.75-.506s2.55.168 3.75.506c2.869-1.95 4.125-1.538 4.125-1.538.825 2.063.3 3.6.15 3.975.956 1.05 1.538 2.382 1.538 4.032 0 5.756-3.507 7.03-6.844 7.406.544.468 1.012 1.369 1.012 2.775 0 2.006-.018 3.619-.018 4.125 0 .394.28.862 1.03.712A15.024 15.024 0 0 0 30.003 15c0-8.287-6.713-15-15-15Z"></path></svg><svg width="32" height="26" viewBox="0 0 32 26" fill="none" xmlns="http://www.w3.org/2000/svg" class="item_KKoc" cursor="pointer"><path d="M31.319 3.484c-1.145.507-2.36.84-3.603.987a6.293 6.293 0 0 0 2.758-3.47 12.518 12.518 0 0 1-3.983 1.52A6.274 6.274 0 0 0 15.64 6.815c0 .493.056.97.161 1.43a17.811 17.811 0 0 1-12.93-6.555 6.252 6.252 0 0 0-.85 3.154 6.272 6.272 0 0 0 2.791 5.222 6.253 6.253 0 0 1-2.841-.785l-.001.077a6.277 6.277 0 0 0 5.033 6.153 6.305 6.305 0 0 1-2.834.108 6.278 6.278 0 0 0 5.86 4.356 12.59 12.59 0 0 1-7.79 2.686c-.5 0-1-.03-1.497-.088a17.746 17.746 0 0 0 9.616 2.818c11.54 0 17.849-9.559 17.849-17.848 0-.272-.007-.544-.019-.812a12.746 12.746 0 0 0 3.13-3.246Z"></path></svg><svg width="30" height="24" viewBox="0 0 30 24" fill="none" xmlns="http://www.w3.org/2000/svg" class="item_KKoc" cursor="pointer"><path d="M15.366 0c.801.004 2.805.024 4.935.11l.755.032c2.145.102 4.287.275 5.35.571 1.417.398 2.53 1.56 2.907 3.033.6 2.339.675 6.903.684 8.008l.002.229v.032l-.002.229c-.009 1.104-.084 5.669-.684 8.008-.381 1.478-1.495 2.64-2.907 3.032-1.063.297-3.205.47-5.35.571l-.755.033c-2.13.086-4.134.105-4.935.11h-.734c-1.696-.01-8.785-.087-11.04-.714-1.418-.398-2.532-1.56-2.908-3.032-.6-2.34-.675-6.904-.684-8.008v-.49c.01-1.105.084-5.67.684-8.008.382-1.478 1.496-2.64 2.908-3.033C5.847.086 12.936.01 14.632 0h.734Zm-3.367 6.749v10.5l9-5.25-9-5.25Z"></path></svg><svg width="30" height="30" viewBox="0 0 30 30" fill="none" xmlns="http://www.w3.org/2000/svg" class="item_KKoc" cursor="pointer"><path d="M6.791 18.77a2.959 2.959 0 0 1-2.952 2.952 2.959 2.959 0 0 1-2.951-2.951 2.959 2.959 0 0 1 2.951-2.952h2.952v2.952Zm1.487 0a2.959 2.959 0 0 1 2.952-2.951 2.959 2.959 0 0 1 2.952 2.952v7.39a2.959 2.959 0 0 1-2.952 2.952 2.959 2.959 0 0 1-2.952-2.952v-7.39ZM11.23 6.792A2.959 2.959 0 0 1 8.278 3.84 2.959 2.959 0 0 1 11.23.888a2.959 2.959 0 0 1 2.952 2.951v2.952H11.23Zm0 1.487a2.959 2.959 0 0 1 2.952 2.952 2.959 2.959 0 0 1-2.952 2.952H3.84A2.959 2.959 0 0 1 .887 11.23a2.959 2.959 0 0 1 2.951-2.952h7.391Zm11.98 2.952a2.959 2.959 0 0 1 2.951-2.952 2.959 2.959 0 0 1 2.952 2.952 2.959 2.959 0 0 1-2.952 2.952H23.21V11.23Zm-1.488 0a2.959 2.959 0 0 1-2.951 2.952 2.959 2.959 0 0 1-2.952-2.952V3.84A2.959 2.959 0 0 1 18.771.887a2.959 2.959 0 0 1 2.951 2.951v7.391Zm-2.951 11.98a2.959 2.959 0 0 1 2.951 2.951 2.959 2.959 0 0 1-2.951 2.952 2.959 2.959 0 0 1-2.952-2.952V23.21h2.952Zm0-1.488a2.959 2.959 0 0 1-2.952-2.951 2.959 2.959 0 0 1 2.952-2.952h7.39a2.959 2.959 0 0 1 2.952 2.952 2.959 2.959 0 0 1-2.952 2.951h-7.39Z"></path></svg><svg width="28" height="30" viewBox="0 0 28 30" fill="none" xmlns="http://www.w3.org/2000/svg" class="item_KKoc" cursor="pointer"><path d="M22.48 4.286H5.195c-.845 0-1.52.724-1.52 1.568v18.579c0 .844.675 1.568 1.52 1.568h17.283c.845 0 1.52-.724 1.52-1.568V5.854c0-.844-.675-1.568-1.52-1.568Z"></path><path d="M6.233 12.156h3.081v10.756H6.233V12.156Zm1.57-5.315c.988 0 1.802.875 1.802 1.938s-.814 1.939-1.803 1.939C6.814 10.718 6 9.842 6 8.779c0-1.063.814-1.938 1.802-1.938Zm3.488 5.315h2.965v1.439h.058c.407-.876 1.453-1.751 2.965-1.751 3.14 0 3.721 2.25 3.721 5.127v5.879h-3.081v-5.253c0-1.25 0-2.877-1.628-2.877s-1.86 1.376-1.86 2.752v5.315h-3.082v-10.63h-.058Z" fill="#000"></path></svg><svg width="34" height="28" viewBox="0 0 34 28" fill="none" xmlns="http://www.w3.org/2000/svg" class="item_KKoc" cursor="pointer"><path d="M26.863 16.567c.748 0 1.347-.636 1.347-1.347 0-.748-.599-1.347-1.347-1.347s-1.347.599-1.347 1.347.599 1.347 1.347 1.347Zm-6.639 0c.749 0 1.347-.636 1.347-1.347 0-.748-.598-1.347-1.347-1.347-.748 0-1.346.599-1.346 1.347s.598 1.347 1.346 1.347Zm9.852 7.56a.52.52 0 0 0-.258.553c0 .074 0 .148.036.221.148.627.442 1.622.442 1.66 0 .11.037.184.037.257a.33.33 0 0 1-.331.332c-.074 0-.11-.037-.184-.074l-2.174-1.253c-.147-.074-.331-.147-.516-.147-.11 0-.22 0-.294.037-1.032.294-2.1.442-3.242.442-5.49 0-9.91-3.687-9.91-8.258 0-4.57 4.42-8.257 9.91-8.257 5.489 0 9.91 3.686 9.91 8.257 0 2.47-1.327 4.719-3.427 6.23ZM24.01 8.147a13.662 13.662 0 0 0-.418-.007c-6.262 0-11.41 4.29-11.41 9.757 0 .83.119 1.634.342 2.4h-.133c-1.33 0-2.659-.221-3.877-.553-.111-.037-.222-.037-.333-.037-.221 0-.443.074-.627.185L4.932 21.4a.525.525 0 0 1-.221.074.409.409 0 0 1-.406-.405c0-.11.036-.184.073-.294.037-.037.37-1.251.554-1.987 0-.074.037-.184.037-.258a.834.834 0 0 0-.332-.662C2.089 16.065.5 13.378.5 10.398.501 4.916 5.855.5 12.428.5 18.073.5 22.82 3.753 24.01 8.146Zm-7.73.627c.859 0 1.54-.716 1.54-1.54 0-.858-.681-1.539-1.54-1.539-.86 0-1.54.68-1.54 1.54 0 .859.68 1.54 1.54 1.54Zm-7.89 0c.86 0 1.54-.716 1.54-1.54 0-.858-.68-1.539-1.54-1.539-.859 0-1.539.68-1.539 1.54 0 .859.68 1.54 1.54 1.54Z"></path></svg></div></div></div><div class="copyrightWrap_yPz7"><div class="copyright_AoBa">
      <p>
        Apache Cloudberry is an effort undergoing incubation at The Apache Software Foundation (ASF), sponsored by the Apache Incubator. Incubation is required of all newly accepted projects until a further review indicates that the infrastructure, communications, and decision making process have stabilized in a manner consistent with other successful ASF projects. While incubation status is not necessarily a reflection of the completeness or stability of the code, it does indicate that the project has yet to be fully endorsed by the ASF.
      </p>
      <p>
        Copyright © 2025 The Apache Software Foundation, Licensed under the Apache License, Version 2.0.</p>
      <p>
        Apache®, the names of Apache projects, and the feather logo are either registered trademarks or trademarks of the Apache Software Foundation in the United States and/or other countries.
      </p>
      </div></div></div></div>
</body>
</html>